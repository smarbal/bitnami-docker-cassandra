<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>POC</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" >
<link rel="stylesheet" type="text/css" href={{ url_for('static',filename='styles/styles.css') }}>
</head>
<body>
<div id="doc" class="yui-t7">
  <div id="hd">
    <div id="header"><h1>Cassandra POC</h1></div>
  </div>
  <div id="bd">
    <div id="yui-main">
      <div class="yui-b">
        <div class="yui-gc">
          <div class="yui-u first">
            <div class="content" style="display:flex; flex-direction: row;justify-content:space-between">
              <table>
                <tr>
                    <th>Id</th>
                    <th>Firstname</th>
                    <th>Lastname</th>
                </tr>
                {% for user in users %}
                    <tr>
                        <td>{{ user.id }}</td>
                        <td>{{ user.firstname }}</td>
                        <td>{{ user.lastname }}</td>
                    </tr>
                {% endfor %}
              </table>
              <table>
                <tr>
                    <th>Id</th>
                    <th>Title</th>
                    <th>Author</th>
                </tr>
                {% for book in books %}
                    <tr>
                        <td>{{ book.id }}</td>
                        <td>{{ book.title }}</td>
                        <td>{{ book.author }}</td>
                    </tr>
                {% endfor %}
              </table>
              <table>
                <tr>
                    <th>User</th>
                    <th>Book</th>
                </tr>
                {% for elem in user_books %}
                    <tr>
                        <td>{{ elem.book_id }}</td>
                        <td>{{ elem.user_id }}</td>
                    </tr>
                {% endfor %}
                
              </table>

            </div>
          </div>
          <div class="yui-u">
            <div class="content">
              <table>
                <tr>
                    <th>Node</th>
                    <th>Owns</th>
                </tr>
                {% for elem in status %}
                    <tr>
                        <td>Node {{ loop.index0 }}   </td>
                        <td>{{ elem }}   </td>
                    </tr>
                {% endfor %}
                
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="yui-b">
      <div id="secondary">
        <button onclick="kill(1)">Kill Node 1 (Don't)</button>
        <button onclick="kill(2)">Kill Node 2</button>
        <button onclick="kill(3)">Kill Node 3</button>
      </div>
    </div>
  </div>
  <div id="ft">
    <div id="footer">Footer</div>
  </div>
</div>
</body>
<script>
  function kill(node)
{
  fetch('/kill?node=' + node)
}

</script>

</html>
